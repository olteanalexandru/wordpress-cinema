!function($){function ectLoadMoreContent(contentWrapper,thisEle,type){var settingContainer=thisEle.parents(".ect-load-more").find("#ect-lm-settings"),ajaxUrl=settingContainer.data("ajax-url"),settings=settingContainer.data("settings"),excludeEventsJson=settingContainer.attr("data-exclude-events"),loadMore=settingContainer.data("load-more"),loading=settingContainer.data("loading"),noEvent=settingContainer.data("loaded"),json_query=settingContainer.siblings("#ect-query-arg").html(),query=JSON.parse(json_query),paged=thisEle.attr("data-paged");thisEle.find(".ect-preloader").show(),thisEle.find("span").text(loading);var data={action:"ect_common_load_more",query:query,exclude_events:excludeEventsJson,settings:settings};jQuery.post(ajaxUrl,data,(function(response){var rs=JSON.parse(response);"yes"==rs.events?setTimeout((function(){var content=rs.content;if($.each(content,(function(key,val){var html=$(val);contentWrapper.append(html)})),paged=parseInt(paged)+1,rs.exclude_events){var oldlist=JSON.parse(excludeEventsJson);newExcludeList=oldlist.concat(JSON.parse(rs.exclude_events)),settingContainer.attr("data-exclude-events","["+newExcludeList+"]")}custom_cat_colors(),thisEle.find("span").text(loadMore),thisEle.find(".ect-preloader").hide()}),200):(thisEle.find(".ect-preloader").hide(),thisEle.find("span").text(noEvent),setTimeout((function(){thisEle.hide().find("span").text(loadMore),settingContainer.find("#ect-cat-load-more").hide()}),1500))}))}function ectAccordion(thisElement){var parentEle=thisElement;parentEle.on("click",".ect-accordion-header",(function(){var accordionHeader=$(this);if(accordionHeader.hasClass("active-event"))return accordionHeader.parent(".ect-accordion-event").find(".ect-accordion-footer").removeClass("show-event"),accordionHeader.removeClass("active-event"),void accordionHeader.parent(".ect-accordion-event").removeClass("active-event");parentEle.find(".ect-accordion-footer").removeClass("show-event"),parentEle.find(".ect-accordion-header").removeClass("active-event"),parentEle.find(".ect-accordion-event").removeClass("active-event"),accordionHeader.parent(".ect-accordion-event").find(".ect-accordion-footer").addClass("show-event"),accordionHeader.addClass("active-event"),accordionHeader.parent(".ect-accordion-event").addClass("active-event");var offset=accordionHeader.offset();offset.top-=90,$("html, body").stop().animate({scrollTop:offset.top},1e3)}))}function custom_cat_colors(){$("body").find(".ect-list-post,.ect-timeline-post,.ect-slider-event,.ect-carousel-event,.ect-grid-event,.ect-accordion-event").each((function(){var thisElement=jQuery(this),bgcolor=thisElement.data("cat-bgcolor"),txtcolor=thisElement.data("cat-txtcolor");null!=bgcolor&&(thisElement.find(".ect-list-date, .timeline-dots").css({background:"#"+bgcolor,"box-shadow":"none"}),thisElement.find(".ect-event-category ul.tribe_events_cat li a").css({color:"#"+txtcolor,background:convertHex("#"+bgcolor,.9),"border-color":"#"+bgcolor}),thisElement.find(".ect-list-date .ect-date-area, .ect-grid-date .ect-date-area, .ect-carousel-date .ect-date-area, .ect-slider-date .ect-date-area").css({color:"#"+txtcolor}),thisElement.hasClass("style-1")&&(thisElement.find(".ect-list-date, .ect-grid-date, .ect-carousel-date").css({background:convertHex("#"+bgcolor,.95),"box-shadow":"none"}),thisElement.find(".ect-list-venue, .ect-slider-event-area").css({background:"#"+bgcolor,"box-shadow":"none"}),thisElement.find(".ect-list-venue .ect-icon, .ect-list-venue .ect-venue-details, .ect-list-venue .ect-venue-details a").css({color:"#"+txtcolor}),thisElement.find(".ect-carousel-date").css({"border-color":"#"+bgcolor}),thisElement.find(".ect-carousel-date").addClass("custom-arrow"),thisElement.find(".timeline-meta").css({background:"#"+bgcolor,"background-image":"none"}),thisElement.find(".timeline-meta").addClass("no-arrow"),thisElement.find(".timeline-meta.no-arrow .ect-date-area").css({"border-color":"#"+bgcolor}),thisElement.find(".timeline-meta .ect-date-area, .timeline-meta .ect-venue-details, .timeline-meta a, .timeline-meta .ect-icon, .timeline-meta .ect-rate").css({color:"#"+txtcolor}),thisElement.find(".ect-slider-image, .tribe_events_cat a").css({"border-color":"#"+txtcolor}),thisElement.find(".ect-slider-event-area .ect-slider-title h4, .ect-slider-event-area a, .ect-slider-event-area .ect-venue-details, .ect-slider-event-area .ect-icon, .ect-slider-event-area .ect-rate, .ect-slider-event-area .ect-event-content p").css({color:"#"+txtcolor}),thisElement.hasClass("ect-accordion-event")&&thisElement.css({"border-left":"5px solid #"+bgcolor})),thisElement.hasClass("style-2")&&(thisElement.find(".ect-grid-date, .timeline-content, .ect-slider-date, .ect-accordion-date").css({background:"#"+bgcolor,"box-shadow":"none"}),thisElement.find(".ect-carousel-date").css({background:convertHex("#"+bgcolor,.95),"box-shadow":"none"}),thisElement.find(".timeline-content .content-title, .timeline-content a, .timeline-content .ect-event-content p, .ect-accordion-date .ect-date-area").css({color:"#"+txtcolor}),thisElement.find(".timeline-content").addClass("no-arrow"),thisElement.find(".timeline-content.no-arrow").css({"border-color":"#"+bgcolor}),thisElement.find(".timeline-content .tribe_events_cat a").css({"border-color":"#"+txtcolor}),thisElement.hasClass("ect-accordion-event")&&thisElement.css({"border-left":"5px solid #"+bgcolor}),thisElement.find(".ect-accordion-date .ev-yr").css({background:"#"+txtcolor,color:"#"+bgcolor})),thisElement.hasClass("style-3")&&(thisElement.find(".ect-grid-event-area, .ect-carousel-event-area").css({background:"#"+bgcolor,"box-shadow":"none","border-color":"#"+bgcolor}),thisElement.find(".ect-grid-event-area .ect-grid-title h4, .ect-grid-event-area a, .ect-grid-event-area .ect-venue-details, .ect-grid-event-area .ect-icon, .ect-grid-event-area .ect-rate, .ect-carousel-event-area .ect-carousel-title h4, .ect-carousel-event-area a, .ect-carousel-event-area .ect-venue-details, .ect-carousel-event-area .ect-icon, .ect-carousel-event-area .ect-rate, .timeline-content .content-title, .timeline-content a, .timeline-view-venue .ect-venue-details, .timeline-content .ect-icon, .timeline-content .ect-rate, .timeline-content .ect-date-area, .ect-slider-left .ect-slider-title h4, .ect-slider-left a, .ect-slider-left .ect-icon, .ect-slider-left .ect-venue-details, .ect-slider-left .ect-rate, .ect-accordion-header .ect-date-area, .ect-accordion-title, .ect-accordion-header .accordion-view-venue, .ect-accordion-header .ect-icon, .ect-accordion-header a.tribe-events-gmap .ect-accordion-content p, .ect-accordion-content a").css({color:"#"+txtcolor}),thisElement.find(".timeline-content a").css({"border-color":"#"+txtcolor}),thisElement.find(".timeline-content").css({background:"#"+bgcolor,"background-image":"none"}),thisElement.find(".timeline-content").addClass("no-arrow"),thisElement.find(".timeline-content.no-arrow").css({"border-color":"#"+bgcolor}),thisElement.find(".ect-slider-left").css({background:convertHex("#"+bgcolor,.95),"box-shadow":"none"}),thisElement.find(".ect-slider-left, .tribe_events_cat a").css({"border-color":"#"+txtcolor}),thisElement.hasClass("ect-accordion-event")&&thisElement.css({background:"#"+bgcolor}),thisElement.find(".ect-accordion-date .ev-yr").css({background:"#"+txtcolor,color:"#"+bgcolor})))}))}function convertHex(hex,opacity){return hex=hex.replace("#",""),r=parseInt(hex.substring(0,2),16),g=parseInt(hex.substring(2,4),16),b=parseInt(hex.substring(4,6),16),result="rgba("+r+","+g+","+b+","+opacity+")",result}jQuery(document).ready((function($){custom_cat_colors(),$(".ect-accordion-view").each((function(){var thisElement=$(this);thisElement.find(".ect-accordion-footer:first").addClass("show-event"),thisElement.find(".ect-accordion-header:first").addClass("active-event"),thisElement.find(".ect-accordion-event:first").addClass("active-event"),ectAccordion(thisElement)})),$(".ectt-list-wrapper").each((function(){const wrapper=$(this);wrapper.find(".ect-load-more-btn").on("click",(function(){const type="list",thisEle=$(this),thisParent=thisEle.parents("#ect-events-list-content").find("div.ect-list-wrapper");return ectLoadMoreContent($(thisParent),thisEle,type),!1}))})),$(".ect-accordion-view").each((function(){const wrapper=$(this);wrapper.find(".ect-load-more-btn").on("click",(function(){const type="accordion",thisEle=$(this),thisParent=wrapper.find(".ect-accordion-container");return ectLoadMoreContent($(thisParent),thisEle,type),!1}))})),$(".tect-grid-wrapper").each((function(){const wrapper=$(this);wrapper.find(".ect-load-more-btn").on("click",(function(){const type="grid",thisEle=$(this),thisParent=wrapper.find("div.row");return ectLoadMoreContent($(thisParent),thisEle,type),!1}))}))}))}(jQuery);